
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Troubleshooting &#8212; CESM Tutorial</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Code Modifications" href="../08.SourceMods/title.html" />
    <link rel="prev" title="Troubleshooting" href="overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">CESM Tutorial</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    CESM Tutorial at WCRP
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01.Prerequisites/title.html">
   Prerequisites
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.Prerequisites/cloud.html">
     Log on the cloud
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.Prerequisites/jupyter.html">
     Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.Prerequisites/unix.html">
     Basic Unix Commands
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02.First-run/title.html">
   CESM Basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.First-run/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.First-run/create_newcase.html">
     create_newcase
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.First-run/setup_build_submit.html">
     setup, build, submit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.First-run/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03.Basic-xml/title.html">
   Run length
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.Basic-xml/overview.html">
     Extending a simulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.Basic-xml/exercise.html">
     Extending your simulation for an additional month
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04.Statistics/title.html">
   Run statistics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04.Statistics/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04.Statistics/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05.Output/title.html">
   Model Output
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05.Output/overview.html">
     CESM output
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05.Output/exercise.html">
     Examining the output from your 1 month simulation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06.Namelist/title.html">
   Namelist Modifications
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06.Namelist/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06.Namelist/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="title.html">
   Troubleshooting
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="overview.html">
     Troubleshooting
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Troubleshooting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08.SourceMods/title.html">
   Code Modifications
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.SourceMods/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.SourceMods/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../09.Runtype/title.html">
   Hybrid/Branch runs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../09.Runtype/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../09.Runtype/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10.Community-runs/title.html">
   Community runs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10.Community-runs/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10.Community-runs/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../11.LE-analysis/title.html">
   Large Ensemble Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../11.LE-analysis/overview.html">
     Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../11.LE-analysis/exercise.html">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../12.Info-organizers/title.html">
   Info for organizers
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/NCAR/CESM-Tutorial-WCRP/main?urlpath=tree/docs/notebooks/07.Troubleshoot/exercise.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/NCAR/CESM-Tutorial-WCRP"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/NCAR/CESM-Tutorial-WCRP/issues/new?title=Issue%20on%20page%20%2Fnotebooks/07.Troubleshoot/exercise.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/notebooks/07.Troubleshoot/exercise.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Troubleshooting</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">#</a></h1>
<div class="alert alert-info">
<p><strong>Exercise: Deliberately setting up a run that crashed and then finding out what went wrong </strong></p>
<p>Create another new case called <code class="docutils literal notranslate"><span class="pre">b1850_high_freq_bugfixing</span></code> in your <code class="docutils literal notranslate"><span class="pre">cases</span></code> directory using the <code class="docutils literal notranslate"><span class="pre">B1850-tutorial</span></code> compset and <code class="docutils literal notranslate"><span class="pre">f19_g17</span></code> resolution.</p>
<p>Use the default 5 day run length.</p>
<p>Now in addition to the default monthly output add the following</p>
<ul class="simple">
<li><p>an <code class="docutils literal notranslate"><span class="pre">h1</span></code> file containing daily averages of <code class="docutils literal notranslate"><span class="pre">T2M</span></code></p></li>
<li><p>set your namelist so that there is one file per day for this daily averaged output</p></li>
</ul>
<p>Set up, build and submit your case.</p>
<p>See if it runs successfully and, if not, try to find out what went wrong.</p>
</div>
<div class="alert alert-warning">  
<details>
<summary> <font face="Times New Roman" color='blue'>Click here for hints</font> </summary><br>
<p><strong>Setting up the case</strong></p>
<p>To create this case you need to run <code class="docutils literal notranslate"><span class="pre">create_newcase</span></code> from within <code class="docutils literal notranslate"><span class="pre">$CESMROOT/cime/scripts/</span></code> i.e.,</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">$CESMROOT/cime/scripts/</span></code> <br />
<code class="docutils literal notranslate"><span class="pre">./create_newcase</span> <span class="pre">--case</span> <span class="pre">~/cases/b1850_high_freq_bugfixing</span> <span class="pre">--compset</span> <span class="pre">B1850-tutorial</span> <span class="pre">--res</span> <span class="pre">f19_g17</span></code> <br />
<code class="docutils literal notranslate"><span class="pre">./case.setup</span></code></p>
<p>Now you’ll need to go into this case directory i.e.,</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~/cases/b1850_high_freq_bugfixing</span></code></p>
<p>and set up the case</p>
<p><code class="docutils literal notranslate"><span class="pre">./case.setup</span></code></p>
<p>Now the namelist files should have appeared in your case directory and you can add the requested output to <code class="docutils literal notranslate"><span class="pre">user_nl_cam</span></code> with the following entry</p>
<p><code class="docutils literal notranslate"><span class="pre">fincl2='T2m:A'</span></code><br />
<code class="docutils literal notranslate"><span class="pre">nhtfrq=0,-24</span></code><br />
<code class="docutils literal notranslate"><span class="pre">mfilt=1,1</span></code></p>
<p>Then build the case and submit.</p>
<p><code class="docutils literal notranslate"><span class="pre">qcmd</span> <span class="pre">--</span> <span class="pre">./case.build</span></code>
<code class="docutils literal notranslate"><span class="pre">./case.submit</span></code></p>
<p>Wait until you no longer see it running in the queue.</p>
<p><strong>Checking if your run has finished successfully</strong></p>
<p>To check if your run has finished successfully, you can see if there’s an archive directory for the run and determine whether it contains the output files.  You should find that it doesn’t in this case.</p>
<p>You can also look in the run directory too and see whether there’s any evidence of restart files or rpointer files having been created for this run.  You should find that this hasn’t happened.</p>
<p>You can also go into your case directory and examine the contents of the file CaseStatus to see whether the run has successfully finished.</p>
<p>!!!!!!! ISLA ADD MORE TO THIS ONCE WE CAN ACTUALY TEST IT !!!!!!!!</p>
<p><strong>Troubleshooting</strong></p>
<p>Now that you have determined the run has crashed, you need to examine the log files to see what went wrong.  If you go into the run directory and search for the log files, you should see that there are three: one for the coupled (<code class="docutils literal notranslate"><span class="pre">cpl.log.*</span></code>), one for CAM (<code class="docutils literal notranslate"><span class="pre">atm.log.*</span></code>), and one for CESM (<code class="docutils literal notranslate"><span class="pre">cesm.log.*</span></code>).</p>
<p>We can search for the first occurence of the word ERROR in the cesm log file.  You can do this by opening up the file with your text editor or by searching for the word ERROR using <code class="docutils literal notranslate"><span class="pre">grep</span></code> i.e.,</p>
<p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">'ERROR'</span> <span class="pre">cesm.log.*</span></code></p>
<p>You should find this produces the following</p>
<p><code class="docutils literal notranslate"><span class="pre">ERROR:</span> <span class="pre">FLDLST:</span> <span class="pre">1</span> <span class="pre">errors</span> <span class="pre">found,</span> <span class="pre">see</span> <span class="pre">log</span></code></p>
<p>This tells us that something has gone wrong with the list of output variables that we have asked for.  More information can then be found in the CAM log file (<code class="docutils literal notranslate"><span class="pre">atm.log.*</span></code>).  Looking at the very end of that file you should see:</p>
<p><code class="docutils literal notranslate"><span class="pre">FLDLST:</span> <span class="pre">T2M</span> <span class="pre">in</span> <span class="pre">fincl(1,2)</span> <span class="pre">not</span> <span class="pre">found</span></code> <br />
<code class="docutils literal notranslate"><span class="pre">ERROR:</span> <span class="pre">FLDLST:</span> <span class="pre">1</span> <span class="pre">errors</span> <span class="pre">found,</span> <span class="pre">see</span> <span class="pre">log</span></code> \</p>
<p>This tells us that <code class="docutils literal notranslate"><span class="pre">T2M</span></code> is not a valid history variable for CAM.  That’s because the correct variable for near surface temperature is <code class="docutils literal notranslate"><span class="pre">TREFHT</span></code>, as we used in the previous example.  <code class="docutils literal notranslate"><span class="pre">T2M</span></code> is not a CAM history field nd this has caused CESM to crash on initialization.</p>
</details>
</div>
<div class="alert alert-success">   
<details>
<summary><font face="Times New Roman" color='blue'>Click here for the solution</font></summary><br>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd $CESMROOT/cime/scripts \
./create_newcase --case ~/cases/b1850_high_freq_bugfixing --compset B1850-tutorial --res f19_g17 \
cd ~/cases/b1850_high_freq_bugfixing \
./case.setup
</pre></div>
</div>
<p>Now add the following into the file <code class="docutils literal notranslate"><span class="pre">user_nl_cam</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fincl2</span><span class="o">=</span><span class="s1">&#39;T2M:A&#39;</span> \
<span class="n">nhtfrq</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">24</span> \
<span class="n">mfilt</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
</pre></div>
</div>
<p>Then build and submit your case</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qcmd</span> <span class="o">--</span> <span class="o">./</span><span class="n">case</span><span class="o">.</span><span class="n">build</span>
<span class="o">./</span><span class="n">case</span><span class="o">.</span><span class="n">submit</span>
</pre></div>
</div>
<p>Now when it crashes, go into your run directory and look in the logs</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">scratch</span><span class="o">/</span><span class="n">b1850_high_freq_bugfixing</span>
</pre></div>
</div>
<p>You can see the logs and when they were creating using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">ltr</span>
</pre></div>
</div>
<p>Search for <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> in the cesm log</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s1">&#39;ERROR&#39;</span> <span class="n">cesm</span><span class="o">.</span><span class="n">log</span><span class="o">.*</span>
</pre></div>
</div>
<p>Now look at the end of the atmosphere log file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tail atm.log.*`
</pre></div>
</div>
</details>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/07.Troubleshoot"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Troubleshooting</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../08.SourceMods/title.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Code Modifications</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By NCAR/CGD Staff<br/>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>